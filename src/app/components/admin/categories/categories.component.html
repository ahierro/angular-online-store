<div class="admin-container">
  <div class="header">
    <h1>Categories Management</h1>
    <a routerLink="/admin/categories/new" class="btn-primary">Add New Category</a>
  </div>

  @if (loading()) {
    <div class="loading">Loading categories...</div>
  } @else {
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (category of categoriesList(); track category.id) {
            <tr>
              <td>{{ category.id }}</td>
              <td>{{ category.name }}</td>
              <td>{{ category.description }}</td>
              <td class="actions">
                <a [routerLink]="['/admin/categories', category.id, 'edit']" class="btn-edit">Edit</a>
                <button (click)="deleteCategory(category.id)" class="btn-delete">Delete</button>
              </td>
            </tr>
          } @empty {
            <tr>
              <td colspan="4" class="empty">No categories found</td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    @if (total() > 1) {
      <div class="pagination">
        <button
          (click)="goToPage(page() - 1)"
          [disabled]="page() === 0"
          class="btn-page"
        >
          Previous
        </button>
        <span>Page {{ page() + 1 }} of {{ total() }}</span>
        <button
          (click)="goToPage(page() + 1)"
          [disabled]="page() >= total() - 1"
          class="btn-page"
        >
          Next
        </button>
      </div>
    }
  }
</div>


import{a as E,c as T,f as k,k as q,l as N,m as V,p as W}from"./chunk-OFX54PGD.js";import{f as I}from"./chunk-FYAUQDTK.js";import{a as z}from"./chunk-3ZSPSCSW.js";import{$ as r,I as M,Ia as b,Ka as F,L as n,La as w,M as P,R as u,W as m,Y as d,_ as o,aa as S,ca as f,fa as l,ga as s,ja as C,k as y,ka as h,la as _,na as v,oa as O,pa as L,qa as x}from"./chunk-OIPQTPKG.js";import"./chunk-5MI47NIA.js";var A=t=>["/products",t];function B(t,c){if(t&1&&(o(0,"option",3),l(1),r()),t&2){let e=c.$implicit;d("ngValue",e.id),n(),s(e.name)}}function D(t,c){if(t&1&&(o(0,"a",7),S(1,"img",8),o(2,"div",9)(3,"h3"),l(4),r(),o(5,"p"),l(6),L(7,"currency"),r()()()),t&2){let e=c.$implicit;d("routerLink",O(6,A,e.productId)),n(),d("src",e.smallImageUrl,M),n(3),s(e.productName),n(2),s(x(7,4,e.price))}}var Y=(()=>{class t{constructor(e){this.api=e,this.products=u([]),this.categories=u([]),this.page=0,this.size=20,this.selectedCategory="",this.query=""}ngOnInit(){this.api.getCategoriesPaged({page:0,size:100}).subscribe(e=>this.categories.set(e.content)),this.reload()}reload(){this.api.getProductsPaged({page:this.page,size:this.size,categoryId:this.selectedCategory||void 0,queryString:this.query||void 0}).subscribe(e=>this.products.set(e.content))}static{this.\u0275fac=function(p){return new(p||t)(P(z))}}static{this.\u0275cmp=y({type:t,selectors:[["app-product-list"]],standalone:!0,features:[v],decls:8,vars:5,consts:[[1,"toolbar"],["placeholder","Search",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"grid"],["class","card",3,"routerLink",4,"ngFor","ngForOf"],[1,"card",3,"routerLink"],["alt","",3,"src"],[1,"info"]],template:function(p,i){p&1&&(o(0,"div",0)(1,"input",1),_("ngModelChange",function(a){return h(i.query,a)||(i.query=a),a}),f("ngModelChange",function(){return i.reload()}),r(),o(2,"select",2),_("ngModelChange",function(a){return h(i.selectedCategory,a)||(i.selectedCategory=a),a}),f("ngModelChange",function(){return i.reload()}),o(3,"option",3),l(4,"All Categories"),r(),m(5,B,2,2,"option",4),r()(),o(6,"div",5),m(7,D,8,8,"a",6),r()),p&2&&(n(),C("ngModel",i.query),n(),C("ngModel",i.selectedCategory),n(),d("ngValue",""),n(2),d("ngForOf",i.categories()),n(2),d("ngForOf",i.products()))},dependencies:[w,b,F,W,N,V,E,q,T,k,I],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;padding:12px}.card[_ngcontent-%COMP%]{display:block;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 6px #00000014;text-decoration:none;color:inherit}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:10px}"]})}}return t})();export{Y as ProductListComponent};
